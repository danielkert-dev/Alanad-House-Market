{% extends 'core/base.html' %}
{% load i18n humanize %}
{% block title %}{% trans 'Welcome!' %}{% endblock %}

{% block content %}

<style>
    .pagination.pagination-dark .page-link {
      background-color: #343a40;
      color: #fff;
      border-color: #343a40;
    }
  
    .pagination.pagination-dark .page-link:hover {
      background-color: #23272b;
    }
  
    .pagination.pagination-dark .page-item.active .page-link {
      background-color: #007bff;
      border-color: #007bff;
    }

    .paginator-container {
        display: flex;
        justify-content: center;
    }
  </style>

<div class="container">

    <div class="paginator-container mt-3">
        <nav aria-label="Page navigation">
          <ul class="pagination pagination-dark">
            {% if page_obj.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
              </li>
            {% endif %}
            {% for num in page_obj.paginator.page_range %}
              {% if num == page_obj.number %}
                <li class="page-item active" aria-current="page">
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
              {% else %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
              {% endif %}
            {% endfor %}
            {% if page_obj.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
              </li>
            {% endif %}
          </ul>
        </nav>
      </div>

    {% for house in page_obj %}
      <div class="card bg-dark p-2 my-2 rounded shadow text-white">
        <div class="row">
          <div class="col-md-6">
            <div class="m-2">
              <a href="{{ house.link }}"><h3>{{ house.name }}</h3></a>
              {% if house.price == "Anbud" %}
                <p>Price: {{ house.price}}</p>
              {% else %}
                <p>Price: {{ house.price|intcomma }} â‚¬</p>
              {% endif %}
              <p>Address: {{ house.address }}</p>
            </div>
          </div>
          <div class="col-md-6">
            <img src="https://www.maklarhuset.ax{{ house.img }}" alt="" class="img-thumbnail" loading="lazy"/>
          </div>
        </div>
        <button class="btn btn-primary mt-3 mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#description{{ forloop.counter }}" aria-expanded="false" aria-controls="description{{ forloop.counter }}">
          Toggle Description
        </button>
        <div class="collapse" id="description{{ forloop.counter }}">
          {{ house.description|safe }}
        </div>
        <!-- Display other fields as desired -->
      </div>
    {% endfor %}
  
    <div class="paginator-container my-3">
        <nav aria-label="Page navigation">
          <ul class="pagination pagination-dark">
            {% if page_obj.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
              </li>
            {% endif %}
            {% for num in page_obj.paginator.page_range %}
              {% if num == page_obj.number %}
                <li class="page-item active" aria-current="page">
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
              {% else %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
              {% endif %}
            {% endfor %}
            {% if page_obj.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
              </li>
            {% endif %}
          </ul>
        </nav>
      </div>

{% endblock %}
